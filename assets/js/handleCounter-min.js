!function(){"use strict";$.fn.handleCounter=function(n){function i(n){a.attr("data-num",n),t.prop("disabled",!1),l.prop("disabled",!1),n<=e?(t.prop("disabled",!0),o.call(this,n)):null!=u&&n>=u&&(l.prop("disabled",!0),c.call(this,n)),m.call(this,n)}var a,t,l,e,u,r,m,o,c,s=this;t=s.find(".counter-minus"),a=s.find("input"),l=s.find(".counter-plus");var v={writable:!0,minimum:1,maximize:null,onChange:function(){},onMinimum:function(){},onMaximize:function(){}},d=$.extend({},v,n);e=d.minimum,u=d.maximize,r=d.writable,m=d.onChange,o=d.onMinimum,c=d.onMaximize,$.isNumeric(e)||(e=v.minimum),$.isNumeric(u)||(u=v.maximize);var p=a.val();isNaN(parseInt(p))&&(p=a.val(0).val()),r||a.prop("disabled",!0),i(p),a.val(p),t.click(function(){var n=parseInt(a.val());n>e&&(a.val(n-1),i(n-1))}),l.click(function(){var n=parseInt(a.val());(null==u||n<u)&&(a.val(n+1),i(n+1))});var f;return a.keyup(function(){clearTimeout(f),f=setTimeout(function(){var n=a.val();""==n&&(n=e,a.val(e));var t=new RegExp("^[\\d]*$");isNaN(parseInt(n))||!t.test(n)?(a.val(a.attr("data-num")),i(a.attr("data-num"))):n<e?(a.val(e),i(e)):null!=u&&n>u?(a.val(u),i(u)):i(n)},300)}),a.focus(function(){0==a.val()&&a.select()}),s}}(jQuery);